jQuery(document).ready((function(t){t("body").on("click",".comment-reply-link",(function(e){e.preventDefault();var n=t(this).data("commentid");t("#new-comment-area").hide(),t(".comment-reply-form").remove();var m=t("#commentform").clone(!0);m.addClass("comment-reply-form"),m.find("#comment_parent").val(n),m.find(".form-submit").find("button[type='submit']").text("Reply"),m.find(".form-submit").find("button[type='submit']").addClass("fp_reply_comment"),m.find(".form-submit").append('<button type="button" class="cancel-reply" style="">Cancel</button>'),t("#comment-"+n).after(m),m.find("#comment").trigger("focus")})),t("body").on("click",".cancel-reply",(function(){t(".comment-reply-form").remove(),t("#new-comment-area").show()})),t("body").on("submit","#commentform.comment-reply-form",(function(e){e.preventDefault();let n=t(this).find("textarea[name='comment']").val().trim(),m=t(this).find("input[name='author']").val().trim(),a=t(this).find("input[name='email']").val().trim();if(""===n||""===m||""===a)return void alert("Please fill out all required fields.");let o=t(this).serialize();o+="&security="+fp_ajax_comments.nonce+"&action=fp_ajax_submit_comment",t.ajax({url:fp_ajax_comments.ajax_url,type:"POST",data:o,beforeSend:function(){t("#commentform").find('button[type="submit"]').prop("disabled",!0)},success:function(e){t("#commentform").find('button[type="submit"]').prop("disabled",!1),e.success?(!function(e){var n=`\n        <li class="comment byuser comment-author-${e.user_id} ${e.comment_parent?"parent":""}" id="comment-${e.comment_id}" style="display: flex; align-items: flex-start; margin-bottom: 20px; margin-left: ${e.depth>1?20*(e.depth-1)+"px":"0"};">\n            <div class="comment-avatar" style="margin-right: 15px;">\n                <img src="${e.avatar}" alt="${e.comment_author}" class="avatar avatar-32 photo" height="32" width="32">\n            </div>\n            <div class="comment-content-wrapper" style="display: flex; flex: 1; justify-content: start; align-items: center; flex-direction: column;">\n                <div class="comment-content" style="background-color: #333; color: #f5f5f5; padding: 15px; border-radius: 5px; width: 100%;">\n                    <div class="comment-header" style="margin-bottom: 10px; display: flex; align-items: center; flex-wrap: wrap;">\n                        <span class="comment-author" style="font-weight: 600; margin-right: 5px;">\n                            ${e.comment_author}:\n                        </span>\n                        <span class="comment-text">\n                            ${e.comment_content}\n                        </span>\n                    </div>\n                    <div class="comment-meta" style="display: flex; flex-direction: column; font-size: 0.9em; color: #aaa;">\n                        <span class="comment-date" style="margin-bottom: 5px;">\n                            ${e.comment_date} at ${e.comment_time}\n                        </span>\n                        <div style="display: flex; justify-content: start; align-items: center; gap: 1rem;">\n                            <span class="comment-reply">\n                                <a href="#" class="comment-reply-link" data-commentid="${e.comment_id}" data-postid="${e.comment_post_ID}" data-belowelement="comment-${e.comment_id}" data-respondelement="respond" data-replyto="Reply to ${e.comment_author}">Reply</a>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </li>`;if(e.comment_parent>0){let m=t("#comment-"+e.comment_parent),a=m.children("ol.children");0===a.length&&(a=t('<ol class="children" style="list-style-type:none; padding-left:20px;"></ol>'),m.after(a)),a.append(n)}else t(".comment-list").append(n)}(e.data),t(".comment-reply-form").remove(),t("#new-comment-area").show(),t("#commentform")[0].reset()):alert(e.data.message)},error:function(){t("#commentform").find('button[type="submit"]').prop("disabled",!1),alert("There was an error submitting your comment.")}})}))}));